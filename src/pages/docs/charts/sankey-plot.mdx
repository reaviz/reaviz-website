import { PropsTable } from '@/components/ui/props-table';
import { Canvas, Meta } from '@storybook/blocks';
import { ToggleCanvas } from '@/components/ui/toggle-canvas';
import * as SankeyStory from '../../../stories/components/Sankey.story.tsx';

<Meta of={SankeyStory} />

# Sankey Chart

Sankey diagrams in REAVIZ provide a powerful way to visualize and analyze flows of energy, materials, or costs within a system. They help in identifying major transfers and understanding resource distribution, making them a valuable tool for data visualization.

### Where to use:
- **Visualize Flow Quantities:** Ideal for displaying flows of energy, materials, or costs.
- **Highlight Major Transfers:** Useful for emphasizing significant transfers within a system.
- **Analyze Resource Distribution:** Great for analyzing how resources are distributed and transferred.

## Quick Start
To create Sankey Chart, import the Sankey, SankeyNode and SankeyLink and then define the nodes and then links.
The chart will automatically configure itself with the default options exposed via props.

```jsx
import { Sankey, SankeyNode, SankeyLink } from 'reaviz';

const MyChart = () => (
  <Sankey
    height={300}
    width={500}
    nodes={[
      <SankeyNode title="A1" id="1" />,
      <SankeyNode title="A2" id="2" />,
      <SankeyNode title="B1" id="3" />,
      <SankeyNode title="B2" id="4" />
    ]}
    links={[
      <SankeyLink source="1" target="3" value="8" gradient={false} />,
      <SankeyLink source="2" target="4" value="4" gradient={false} />,
      <SankeyLink source="1" target="4" value="2" gradient={false} />
    ]}
  />
);
```

As default, the Sankey chart shows the link/flow with gradation based on
the given colorScheme. You can turn off the gradation by passing `false`
to SankeyLink component's `gradient` property (e.g. `gradient={false}`).
### Configuration 
To render, the `nodes` and `links` of the Sankey
component are required and `colorScheme` is optianal but is recommended to spacify
to make Sankeys easier to interpret.

- **Nodes:** Define the nodes using the SankeyNode component. Each node can have a title and id.
- **Links:** Define the links using the SankeyLink component. Each link requires source, target, and value properties. The source and target can be the index of the nodes array or the node's id

## Examples
<ToggleCanvas of={SankeyStory.Simple} storybook="charts-sankey-plot--simple" />

## API
### [Sankey](https://github.com/reaviz/reaviz/blob/master/src/Sankey/Sankey.tsx)
<PropsTable name="Sankey" />

### [SankeyLink](https://github.com/reaviz/reaviz/blob/master/src/Sankey/SankeyLink/SankeyLink.tsx)
<PropsTable name="SankeyLink" />

### [SankeyNode](https://github.com/reaviz/reaviz/blob/master/src/Sankey/SankeyNode/SankeyNode.tsx)
<PropsTable name="SankeyNode" />
